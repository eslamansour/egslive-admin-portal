(function(t){function e(e){for(var n,s,o=e[0],d=e[1],l=e[2],u=0,c=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&c.push(r[s][0]),r[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);m&&m(e);while(c.length)c.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var d=a[o];0!==r[d]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var m=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04b6":function(t,e,a){"use strict";var n=a("ad40"),r=a.n(n);r.a},"0852":function(t,e,a){"use strict";var n=a("9446"),r=a.n(n);r.a},"08bc":function(t,e,a){"use strict";var n=a("18a1"),r=a.n(n);r.a},"0d2f":function(t,e,a){},"11b2":function(t,e,a){},"133c":function(t,e,a){"use strict";var n=a("35d0"),r=a.n(n);r.a},"18a1":function(t,e,a){},2251:function(t,e,a){},"267e":function(t,e,a){"use strict";var n=a("5bc2"),r=a.n(n);r.a},"2a83":function(t,e,a){},"303c":function(t,e,a){},"321c":function(t,e,a){"use strict";var n=a("99dc"),r=a.n(n);r.a},"35d0":function(t,e,a){},"3c3d":function(t,e,a){},4602:function(t,e,a){"use strict";var n=a("11b2"),r=a.n(n);r.a},"4d1c":function(t,e,a){"use strict";var n=a("2251"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav-bar",{attrs:{accountType:t.accountType}}),a("router-view",{staticClass:"pageContent"})],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return["login"].includes(t.$route.name)?t._e():a("div",[a("div",{staticClass:"header"},[a("a",{staticClass:"nav-trigger",attrs:{href:"#"},on:{click:t.navToogle}},[a("span")]),a("div",{staticClass:"logoutBtn-div"},[a("b-dropdown",{staticClass:"mt-2 logoutBtn",attrs:{size:"sm",id:"dropdown-1",text:t.username,variant:"primary"}},[a("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-logout",modifiers:{"modal-logout":!0}}]},[t._v("تسجيل الخروج")])],1)],1)]),["NotFound"].includes(t.$route.name)?t._e():a("div",{staticClass:"side-nav",class:{visible:t.isVisible}},[t._m(0),a("nav",[a("ul",[a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fa fa-home"}),a("span",{staticClass:"hideInSmall"},[t._v("الصفحة الرئيسية")])])],1),a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admins"}},[a("i",{staticClass:"fas fa-user-shield"}),a("span",{staticClass:"hideInSmall"},[t._v(" المسئولين")])])],1),a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/teachers"}},[a("i",{staticClass:"fa fa-chalkboard-teacher"}),a("span",{staticClass:"hideInSmall"},[t._v(" المدرسين")])])],1),a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/students"}},[a("i",{staticClass:"fas fa-user-graduate"}),a("span",{staticClass:"hideInSmall"},[t._v(" الطلاب")])])],1),a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/rooms"}},[a("i",{staticClass:"fas fa-chalkboard"}),a("span",{staticClass:"hideInSmall"},[t._v(" الفصول")])])],1),a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/rooms/join-requests"}},[a("i",{staticClass:"fas fa-user-plus"}),a("span",{staticClass:"hideInSmall"},[t._v(" طلبات الفصول")])])],1)])])]),a("b-modal",{attrs:{id:"modal-logout",title:"تسجيل الخروج"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modal-logout")}}},[t._v(" الغاء ")]),a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.logout()}}},[t._v(" الخروج ")])]},proxy:!0}],null,!1,3463112568)},[a("p",{staticClass:"my-4"},[t._v("هل تريد تسجيل الخروج?")])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("span",[t._v("لوحة الإعدادات")])])}],d=a("2f62"),l={token:null,user_name:null,account_type:null},m=l,u={authToken:function(t){return t.token},username:function(t){return t.user_name},accoutType:function(t){return t.account_type}},c=u,p={SET_TOKEN:function(t,e){t.token=e},SET_USERNAME:function(t,e){t.user_name=e},SET_ACCOUNT_TYPE:function(t,e){t.account_type=e},LOGOUT:function(t){t.token=null,t.user_name=null,t.account_type=null}},f=p,v={SET_ACCOUNT_TYPE:function(t,e){var a=t.commit;a("SET_ACCOUNT_TYPE",e)},SET_USERNAME:function(t,e){var a=t.commit;a("SET_USERNAME",e)}},b=v,h=a("0e44");n["default"].use(d["a"]);var g=new d["a"].Store({getters:c,mutations:f,state:m,actions:b,plugins:[Object(h["a"])()]}),_=a("bc3a"),$=a.n(_),C=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"container"},[a("div",{staticClass:"panel panel-default login-panel"},[a("div",[a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("div",{staticClass:"panel-heading"},[a("h4",[a("strong",[t._v("ادخل البيانات لتسجيل الدخول")])])])])],1),a("br"),a("br"),a("br"),a("admin-login")],1)])])])},y=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{staticClass:"pb-2",attrs:{lg:"12",md:"12"}},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("br"),a("br"),a("br"),a("br")],1),a("br"),a("br"),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-user_name",label:"اسم المستخدم او البريد الالكتروني","label-for":"admin-user_name"}},[a("b-form-input",{attrs:{id:"admin-user_name",name:"admin-user_name",state:t.validateState("user_name"),"aria-describedby":"input-user_name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-user_name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-password",label:"كلمة المرور","label-for":"admin-password"}},[a("b-form-input",{attrs:{id:"admin-password",name:"admin-password",state:t.validateState("password"),"aria-describedby":"input-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[t._v(" كلمة المرور مطلوبه ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("div",{staticClass:"form-footer"},[a("b-button",{staticClass:"login-btn",attrs:{type:"submit",variant:"primary"}},[t._v(" تسجيل الدخول")])],1)])],1)],1)],1)],1)},T=[],k=a("1dce"),L=a.n(k),D=a("b5ae"),E={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",form:{user_name:null,password:null}}},validations:{form:{user_name:{required:D["required"]},password:{required:D["required"]}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.login()},login:function(){var t=this;$.a.post("https://api.egs-live.com/api/admin/login",this.form).then((function(e){t.alertType="success",t.alertText="تم  تسجيل الدخول بنجاح ",t.alertCountdown="3",g.commit("SET_TOKEN",e.data.data.token),g.dispatch("SET_USERNAME",e.data.data.user_name),g.dispatch("SET_ACCOUNT_TYPE","admin"),t.$router.push({name:"home"})})).catch((function(e){422==e.response.status&&(t.alertType="danger",t.alertText=e.response.data.error,t.alertCountdown="3")}))}},created:function(){g.getters.authToken&&this.$router.push({name:"home"})}},q=E,S=(a("08bc"),a("2877")),I=Object(S["a"])(q,x,T,!1,null,null,null),M=I.exports,j={components:{adminLogin:M}},O=j,z=(a("d6db"),Object(S["a"])(O,w,y,!1,null,null,null)),A=z.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",[t.isLoading?a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1):t._e(),t.isLoading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"primary"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-video",staticStyle:{color:"#004094","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.lesson_counter)+" درس")])])],1)],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"light"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-user-graduate",staticStyle:{color:"#908182","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.students_counter)+" طالب")])])],1)],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"success"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-chalkboard-teacher",staticStyle:{color:"#4b5724","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.teachers_counter)+" مدرس")])])],1)],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"danger"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-chalkboard",staticStyle:{color:"#9a1c24","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.room_counter)+" فصل")])])],1)],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"warning"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-chalkboard",staticStyle:{color:"#85643c","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.public_room_counter)+" فصل عام")])])],1)],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mt-4"},[a("b-media",{attrs:{tag:"li"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center pt-4 pb-4",attrs:{variant:"secondary"}},[a("b-avatar",{staticClass:"ml-3",attrs:{size:"3rem",variant:"light"}},[a("i",{staticClass:"fas fa-chalkboard",staticStyle:{color:"#435460","font-size":"1.5rem"}})]),a("span",{staticClass:"ml-auto"},[a("h5",[t._v(t._s(t.data.private_room_counter)+" فصل خاص")])])],1)],1)],1)])])],1)},F=[],N={name:"Home",data:function(){return{isLoading:!1,data:{},alertCountdown:0,alertType:"",alertText:""}},methods:{loadData:function(){var t=this;this.isLoading=!0;var e=function(e){t.data=e.data.data,console.log(t.data),t.isLoading=!1},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"};Fe("get","/admin/configration",!1,{},e,a)},validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t}},created:function(){null==g.getters.authToken?(g.commit("SET_TOKEN",null),g.commit("SET_USERNAME",null),this.$router.push({name:"login"})):this.loadData()}},P=N,U=Object(S["a"])(P,R,F,!1,null,null,null),G=U.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notFound"},[a("h1",[t._v("404")]),a("p",[t._v("الصفحة غير موجودة !")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.goToHome()}}},[t._v("العودة للصفحة الرئيسية")])],1)},V=[],K={methods:{goToHome:function(){this.$router.push({name:"home"})}}},J=K,B=(a("a7b0"),Object(S["a"])(J,H,V,!1,null,"19821fa0",null)),Y=B.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[a("thead",[a("tr",[t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),a("th",{attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-admin-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("addTeacher")}}},[a("i",{staticClass:"fa fa-plus"})])],1)])])]),a("tbody",[0==t.users.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.users.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.users,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("b-avatar",{staticClass:"ml-3",attrs:{src:e.image}})],1),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.full_name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(null==e.user_name?"-":e.user_name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.email))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.phone))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.approventDir[e.approvement]))])]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-admin-btn del-options-admin-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])}))],2)])])])])])]),a("b-modal",{attrs:{centered:"",title:"حذف المدرس"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" حذف ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",{staticClass:"my-4"},[t._v("؟هل تريد حذف هذا المدرس")])])],1)},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("المدرسين")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الصورة")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الاسم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("اسم المستخدم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("البريد الالكتروني")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("رقم المحمول")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("حالة الحساب")])])}],X={name:"Home",data:function(){return{users:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,approventDir:{under_revision:"تحت المراجعة",accept:"مفتوح",blocked:"مغلق"},options:[{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],currentID:null,delModal:!1}},methods:{loadData:function(){var t=this;this.isLoading=!0,$.a.get("https://api.egs-live.com/api/admin/teachers",{}).then((function(e){var a=e.data.data;t.users=a,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},delItem:function(t){this.delModal=!0},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/teachers/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف المدرس بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},goToEditRoute:function(t){t&&this.$router.push({name:"editTeacher",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})}},created:function(){this.loadData()}},Z=X,tt=(a("b5bf"),Object(S["a"])(Z,Q,W,!1,null,"363394fc",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-full-name",label:"الاسم","label-for":"teacher-add-full-name"}},[a("b-form-input",{attrs:{id:"teacher-add-full-name",name:"teacher-add-full-name",state:t.validateState("full_name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.full_name.$model,callback:function(e){t.$set(t.$v.form.full_name,"$model",e)},expression:"$v.form.full_name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-image",label:"الصورة","label-for":"teacher-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"teacher-add-image",name:"teacher-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الصورة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-user-name",label:"اسم المستخدم","label-for":"teacher-add-user-name"}},[a("b-form-input",{attrs:{id:"teacher-add-user-name",name:"teacher-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-email",label:"البريد الاكتروني","label-for":"teacher-add-email"}},[a("b-form-input",{attrs:{id:"teacher-add-email",name:"teacher-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-password",label:"كلمة المرور","label-for":"teacher-add-password"}},[a("b-form-input",{attrs:{id:"teacher-add-password",name:"teacher-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور مطلوبه ")]),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-phone",label:"رقم المحمول","label-for":"teacher-add-phone"}},[a("b-form-input",{attrs:{id:"teacher-add-phone",name:"teacher-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength&&t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-teacher-add-approvement",label:"حالة الحساب","label-for":"teacher-add-approvement"}},[a("b-form-select",{attrs:{id:"teacher-add-approvement",name:"teacher-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الحساب مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("اضافة مدرس")]),a("b-button",{staticClass:"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v("اعادة")])],1)],1)],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("إضافة مدرس")])])])}],rt={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],form:{full_name:null,user_name:null,email:null,password:null,phone:null,approvement:null,block_reason:null,image:null}}},validations:{form:{full_name:{required:D["required"]},user_name:{},email:{required:D["required"],email:D["email"]},password:{required:D["required"],minLength:Object(D["minLength"])(8)},image:{},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},approvement:{required:D["required"]}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={full_name:null,user_name:null,email:null,password:null,phone:null,approvement:null,image:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.uploadFile()},uploadFile:function(){var t=this;if(this.form.image){var e=new FormData;for(var a in this.form)this.form.image&&e.append(a,this.form[a]);e.append("file",this.form.image),e.append("folder_name","teachers"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.addTeacher()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}else delete this.form.image,this.addTeacher()},addTeacher:function(){var t=this;$.a.post("https://api.egs-live.com/api/admin/teachers",this.form).then((function(e){t.alertType="success",t.alertText="تم اضافة المدرس بنجاح ",t.alertCountdown="3",t.resetForm()})).catch((function(e){var a="";a="The phone has already been taken."==e.response.data.error.phone[0]?"رقم الهاتف مستخدم من قبل":"The email has already been taken."==e.response.data.error.email[0]?"البريد الالكتروني مستخدم من قبل":"The user name has already been taken."==e.response.data.error.user_name[0]?" اسم المستخدم مستخدم من قبل":"خطأ .. حاول مرة اخرى لاحقا",t.isLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"}))}}},it=rt,st=Object(S["a"])(it,at,nt,!1,null,null,null),ot=st.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"page-header"},[a("h3",[a("b",[t._v("تعديل مدرس")]),a("b-avatar",{staticClass:"mr-3 profile-image",attrs:{src:t.currentImage}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}}),a("br"),a("br"),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-full-name",label:"الاسم","label-for":"admin-add-full-name"}},[a("b-form-input",{attrs:{id:"admin-add-full-name",name:"admin-add-full-name",state:t.validateState("full_name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.full_name.$model,callback:function(e){t.$set(t.$v.form.full_name,"$model",e)},expression:"$v.form.full_name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-image",label:"الصورة","label-for":"admin-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"admin-add-image",name:"admin-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الصورة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-user-name",label:"اسم المستخدم","label-for":"admin-add-user-name"}},[a("b-form-input",{attrs:{id:"admin-add-user-name",name:"admin-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-email",label:"البريد الاكتروني","label-for":"admin-add-email"}},[a("b-form-input",{attrs:{id:"admin-add-email",name:"admin-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-password",label:"كلمة المرور","label-for":"admin-add-password"}},[a("b-form-input",{attrs:{id:"admin-add-password",name:"admin-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-phone",label:"رقم المحمول","label-for":"admin-add-phone"}},[a("b-form-input",{attrs:{id:"admin-add-phone",name:"admin-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength&&t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-approvement",label:"حالة الحساب","label-for":"admin-add-approvement"}},[a("b-form-select",{attrs:{id:"admin-add-approvement",name:"admin-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الحساب مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("تعديل")])],1)],1)],1)},lt=[],mt={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],form:{full_name:null,user_name:null,email:null,phone:null,approvement:null,block_reason:null,password:null,image:null},currentImage:null}},validations:{form:{full_name:{required:D["required"]},user_name:{},email:{required:D["required"],email:D["email"]},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},approvement:{required:D["required"]},image:{},password:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.isLoading=!0,this.uploadFile())},uploadFile:function(){var t=this;if(this.form.image){var e=new FormData;e.append("file",this.form.image),e.append("folder_name","teachers"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.saveAdminData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}else delete this.form.image,this.saveAdminData()},saveAdminData:function(){var t=this;null==this.form.password&&delete this.form.password,this.form.id=this.$route.params.id,$.a.put("https://api.egs-live.com/api/admin/teachers/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!0,t.alertType="success",t.alertText="تم تعديل بيانات المدرس بنجاح ",t.alertCountdown="3",t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadData:function(){var t=this;$.a.get("https://api.egs-live.com/api/admin/teachers/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.form=e.data.data,t.currentImage=t.form.image,t.form.image=null,t.form.password=null})).catch((function(e){var a="";a="The phone has already been taken."==e.response.data.error.phone[0]?"رقم الهاتف مستخدم من قبل":"The email has already been taken."==e.response.data.error.email[0]?"البريد الالكتروني مستخدم من قبل":"The user name has already been taken."==e.response.data.error.user_name[0]?" اسم المستخدم مستخدم من قبل":"خطأ .. حاول مرة اخرى لاحقا",t.isLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"}))}},created:function(){this.isLoading=!0,this.loadData()}},ut=mt,ct=(a("78de"),Object(S["a"])(ut,dt,lt,!1,null,"34254f12",null)),pt=ct.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[a("thead",[a("tr",[t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),a("th",{attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-admin-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("addStudent")}}},[a("i",{staticClass:"fa fa-plus"})])],1)])])]),a("tbody",[0==t.users.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"9"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.users.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"8"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.users,(function(e,n){return a("tr",{key:n},[a("td",[a("b-avatar",{staticClass:"ml-3",attrs:{src:e.image}})],1),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.full_name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(null==e.user_name?"-":e.user_name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.email))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.phone))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.parent_phone))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.levelsDir[e.level]))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.approventDir[e.approvement]))])]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-admin-btn del-options-admin-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])}))],2)])])])])])]),a("b-modal",{attrs:{centered:"",title:"حذف الطالب"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" حذف ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",{staticClass:"my-4"},[t._v("هل تريد حذف هذا الطالب؟")])])],1)},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("الطلاب")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الصورة")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الاسم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("اسم المستخدم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("البريد الالكتروني")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("رقم المحمول")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("محمول الوالد")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("المرحلة الدراسية")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("حالة الحساب")])])}],bt={name:"Home",data:function(){return{users:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,approventDir:{under_revision:"تحت المراجعة",accept:"مفتوح",blocked:"مغلق"},levelsDir:{kg1:"KG 1",kg2:"KG 2",primary:"الابتدائية",preparatory:"الاعدادية",secondary:"الثانوية",university:"طالب جامعى"},currentID:null,delModal:!1}},methods:{loadData:function(){var t=this;this.isLoading=!0,$.a.get("https://api.egs-live.com/api/admin/students",{}).then((function(e){var a=e.data.data;t.users=a,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},delItem:function(t){this.delModal=!0},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/students/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف الطالب بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},goToEditRoute:function(t){t&&this.$router.push({name:"editStudent",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})}},created:function(){this.loadData()}},ht=bt,gt=(a("dd63"),Object(S["a"])(ht,ft,vt,!1,null,"7345057e",null)),_t=gt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-full-name",label:"الاسم","label-for":"student-add-full-name"}},[a("b-form-input",{attrs:{id:"student-add-full-name",name:"student-add-full-name",state:t.validateState("full_name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.full_name.$model,callback:function(e){t.$set(t.$v.form.full_name,"$model",e)},expression:"$v.form.full_name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-image",label:"الصورة","label-for":"student-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"student-add-image",name:"student-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الصورة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-user-name",label:"اسم المستخدم","label-for":"student-add-user-name"}},[a("b-form-input",{attrs:{id:"student-add-user-name",name:"student-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-email",label:"البريد الاكتروني","label-for":"student-add-email"}},[a("b-form-input",{attrs:{id:"student-add-email",name:"student-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-password",label:"كلمة المرور","label-for":"student-add-password"}},[a("b-form-input",{attrs:{id:"student-add-password",name:"student-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور مطلوبه ")]),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-level",label:"المرحلة الدراسية","label-for":"student-add-level"}},[a("b-form-select",{attrs:{id:"student-add-level",name:"student-add-level",options:t.levels,state:t.validateState("level"),"aria-describedby":"input-add-level"},model:{value:t.$v.form.level.$model,callback:function(e){t.$set(t.$v.form.level,"$model",e)},expression:"$v.form.level.$model"}}),t.$v.form.level.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-level"}},[t._v(" المرحلة الدراسية مطلوبة")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-phone",label:"رقم المحمول","label-for":"student-add-phone"}},[a("b-form-input",{attrs:{id:"student-add-phone",name:"student-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength&&t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-parent_phone",label:"رقم محمول الوالد","label-for":"student-add-parent_phone"}},[a("b-form-input",{attrs:{id:"student-add-parent_phone",name:"student-add-parent_phone",state:t.validateState("parent_phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.parent_phone.$model,callback:function(e){t.$set(t.$v.form.parent_phone,"$model",e)},expression:"$v.form.parent_phone.$model"}}),t.$v.form.parent_phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم محمول الوالد مطلوب ")]),t.$v.form.parent_phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.parent_phone.minLength&&t.$v.form.parent_phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-approvement",label:"حالة الحساب","label-for":"student-add-approvement"}},[a("b-form-select",{attrs:{id:"student-add-approvement",name:"student-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الحساب مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("اضافة طالب")]),a("b-button",{staticClass:"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v("اعادة")])],1)],1)],1)},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("إضافة طالب")])])])}],wt={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],levels:[{value:null,text:"اختر..."},{value:"kg1",text:"KG 1"},{value:"kg2",text:"KG 2"},{value:"primary",text:"الابتدائية"},{value:"preparatory",text:"الاعدادية"},{value:"secondary",text:"الثانوية"},{value:"university",text:"طالب جامعى"}],form:{full_name:null,user_name:null,email:null,password:null,phone:null,parent_phone:null,approvement:null,level:null,block_reason:null,image:null}}},validations:{form:{full_name:{required:D["required"]},user_name:{},email:{required:D["required"],email:D["email"]},password:{required:D["required"],minLength:Object(D["minLength"])(8)},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},parent_phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},approvement:{required:D["required"]},level:{required:D["required"]},image:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={full_name:null,user_name:null,email:null,password:null,phone:null,parent_phone:null,approvement:null,level:null,image:null},this.$nextTick((function(){t.$v.$reset()}))},uploadFile:function(){var t=this;if(this.form.image){var e=new FormData;e.append("file",this.form.image),e.append("folder_name","students"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.addData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}else delete this.form.image,this.addData()},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.uploadFile()},addData:function(){var t=this;$.a.post("https://api.egs-live.com/api/admin/students",this.form).then((function(e){t.alertType="success",t.alertText="تم اضافة الطالب بنجاح ",t.alertCountdown="3",t.resetForm()})).catch((function(e){var a="";a="The phone has already been taken."==e.response.data.error.phone[0]?"رقم الهاتف مستخدم من قبل":"The email has already been taken."==e.response.data.error.email[0]?"البريد الالكتروني مستخدم من قبل":"The user name has already been taken."==e.response.data.error.user_name[0]?" اسم المستخدم مستخدم من قبل":"خطأ .. حاول مرة اخرى لاحقا",t.isLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"}))}}},yt=wt,xt=Object(S["a"])(yt,$t,Ct,!1,null,null,null),Tt=xt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"page-header"},[a("h3",[a("b",[t._v("تعديل طالب")]),a("b-avatar",{staticClass:"mr-3 profile-image",attrs:{src:t.currentImage}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-full-name",label:"الاسم","label-for":"admin-add-full-name"}},[a("b-form-input",{attrs:{id:"admin-add-full-name",name:"admin-add-full-name",state:t.validateState("full_name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.full_name.$model,callback:function(e){t.$set(t.$v.form.full_name,"$model",e)},expression:"$v.form.full_name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-image",label:"الصورة","label-for":"admin-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"admin-add-image",name:"admin-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الصورة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-user-name",label:"اسم المستخدم","label-for":"admin-add-user-name"}},[a("b-form-input",{attrs:{id:"admin-add-user-name",name:"admin-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-email",label:"البريد الاكتروني","label-for":"admin-add-email"}},[a("b-form-input",{attrs:{id:"admin-add-email",name:"admin-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-password",label:"كلمة المرور","label-for":"student-add-password"}},[a("b-form-input",{attrs:{id:"student-add-password",name:"student-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-level",label:"المرحلة الدراسية","label-for":"admin-add-level"}},[a("b-form-select",{attrs:{id:"admin-add-level",name:"admin-add-level",options:t.levels,state:t.validateState("level"),"aria-describedby":"input-add-level"},model:{value:t.$v.form.level.$model,callback:function(e){t.$set(t.$v.form.level,"$model",e)},expression:"$v.form.level.$model"}}),t.$v.form.level.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-level"}},[t._v(" المرحلة الدراسية مطلوبة")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-phone",label:"رقم المحمول","label-for":"admin-add-phone"}},[a("b-form-input",{attrs:{id:"admin-add-phone",name:"admin-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-student-add-parent_phone",label:"رقم محمول الوالد","label-for":"student-add-parent_phone"}},[a("b-form-input",{attrs:{id:"student-add-parent_phone",name:"student-add-parent_phone",state:t.validateState("parent_phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.parent_phone.$model,callback:function(e){t.$set(t.$v.form.parent_phone,"$model",e)},expression:"$v.form.parent_phone.$model"}}),t.$v.form.parent_phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم محمول الوالد مطلوب ")]),t.$v.form.parent_phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.parent_phone.minLength&&t.$v.form.parent_phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-parent_phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-approvement",label:"حالة الحساب","label-for":"admin-add-approvement"}},[a("b-form-select",{attrs:{id:"admin-add-approvement",name:"admin-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الحساب مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("تعديل")])],1)],1)],1)},Lt=[],Dt={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],levels:[{value:null,text:"اختر..."},{value:"kg1",text:"KG 1"},{value:"kg2",text:"KG 2"},{value:"primary",text:"الابتدائية"},{value:"preparatory",text:"الاعدادية"},{value:"secondary",text:"الثانوية"},{value:"university",text:"طالب جامعى"}],form:{full_name:null,user_name:null,email:null,phone:null,parent_phone:null,approvement:null,level:null,block_reason:null,image:null,password:null},currentImage:null}},validations:{form:{full_name:{required:D["required"]},user_name:{},email:{required:D["required"],email:D["email"]},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},parent_phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11),maxLength:Object(D["maxLength"])(11)},approvement:{required:D["required"]},level:{required:D["required"]},image:{},password:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.isLoading=!0,this.uploadFile())},uploadFile:function(){var t=this;if(this.form.image){var e=new FormData;e.append("file",this.form.image),e.append("folder_name","students"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.saveData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}else delete this.form.image,this.saveData()},saveData:function(){var t=this;null==this.form.password&&delete this.form.password,this.form.id=this.$route.params.id,$.a.put("https://api.egs-live.com/api/admin/students/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!0,t.alertType="success",t.alertText="تم تعديل بيانات الطالب بنجاح ",t.alertCountdown="3",t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadData:function(){var t=this;$.a.get("https://api.egs-live.com/api/admin/students/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.form=e.data.data,t.currentImage=t.form.image,t.form.image=null,t.form.password=null})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.$router.push({name:"students"})}))}},created:function(){this.isLoading=!0,this.loadData()}},Et=Dt,qt=(a("133c"),Object(S["a"])(Et,kt,Lt,!1,null,"1f1c6633",null)),St=qt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout items"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[a("thead",[a("tr",[t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),a("th",{attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-admin-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("addRoom")}}},[a("i",{staticClass:"fa fa-plus"})])],1)])])]),a("tbody",[0==t.items.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"10"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.items.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"10"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.items,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("b-avatar",{staticClass:"ml-3",attrs:{src:e.image}})],1),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.subject))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.approventDir[e.approvement]))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(1==e.is_private?"خاصة":"عامة"))])]),a("td",[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.openTeachersModal(e.teachers_names)}}},[t._v("المدرسين")])],1),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditLessons(e.id)}}},[t._v("الدروس")])],1)]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditFiles(e.id)}}},[t._v("الملفات")])],1)]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-admin-btn del-options-admin-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])}))],2)])])])])])]),a("b-modal",{attrs:{centered:"",title:"حذف الفصل"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" حذف ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",[t._v("هل تريد حذف هذا الفصل ؟")])]),a("b-modal",{attrs:{size:"lg",centered:"",title:"المدرسين"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.roomTeachers=!1}}},[t._v(" اغلاق ")])],1)]},proxy:!0}]),model:{value:t.roomTeachers,callback:function(e){t.roomTeachers=e},expression:"roomTeachers"}},[a("div",[a("b-list-group",[a("b-row",[0==t.teachersModal.length?a("b-col",{attrs:{lg:"12",md:"12"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v("لا يوجد مدرسين")])]):t._e(),t._l(t.teachersModal,(function(e,n){return a("b-col",{key:n,attrs:{lg:"4",md:"12"}},[a("b-list-group-item",[t._v(t._s(e))])],1)}))],2)],1)],1)])],1)},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("الفصول")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الصورة")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الاسم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("المادة")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("حالة الفصل")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("نوع الفصل")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("المدرسين")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الدروس")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الملفات")])])}],jt=(a("4160"),a("159b"),{name:"Home",data:function(){return{items:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,approventDir:{under_revision:"تحت المراجعة",accept:"مفتوح",blocked:"مغلق"},currentID:null,delModal:!1,roomTeachers:!1,teachers:[],teacherDic:{},teachersModal:[]}},methods:{openTeachersModal:function(t){this.teachersModal=t,this.roomTeachers=!0},loadData:function(){var t=this;this.isLoading=!0,$.a.get("https://api.egs-live.com/api/admin/rooms",{}).then((function(e){var a=e.data.data;t.items=a,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},delItem:function(t){this.delModal=!0},goToEditLessons:function(t){this.$router.push({name:"roomLesson",params:{roomID:t}})},goToEditFiles:function(t){this.$router.push({name:"roomFiles",params:{roomID:t}})},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/rooms/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف الفصل بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},goToEditRoute:function(t){t&&this.$router.push({name:"editRoom",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})},loadTeachers:function(){var t=this;this.isLoading=!0,$.a.get("https://api.egs-live.com/api/admin/teachers",{}).then((function(e){t.teachers=e.data.data,t.teachers.length>0&&t.teachers.forEach((function(e){t.teacherDic[e.id]||(t.teacherDic[e.id]=e.full_name)})),t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}},created:function(){this.loadTeachers()}}),Ot=jt,zt=(a("6562"),Object(S["a"])(Ot,It,Mt,!1,null,"2e2163e0",null)),At=zt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-name",label:"اسم الفصل","label-for":"admin-add-name"}},[a("b-form-input",{attrs:{id:"admin-add-name",name:"admin-add-name",state:t.validateState("name"),"aria-describedby":"input-add-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-name"}},[t._v(" اسم الفصل مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-room-add-image",label:"الصورة","label-for":"room-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"room-add-image",name:"room-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الملف مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-subject",label:"اسم المادة","label-for":"admin-add-subject"}},[a("b-form-input",{attrs:{id:"admin-add-subject",name:"admin-add-subject",state:t.validateState("subject"),"aria-describedby":"input-add-subject"},model:{value:t.$v.form.subject.$model,callback:function(e){t.$set(t.$v.form.subject,"$model",e)},expression:"$v.form.subject.$model"}}),t.$v.form.subject.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-subject"}},[t._v(" اسم المادة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-approvement",label:"حالة الفصل","label-for":"admin-add-approvement"}},[a("b-form-select",{attrs:{id:"admin-add-approvement",name:"admin-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الفصل مطلوبة")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{label:"المدرسين"}},[a("b-row",t._l(t.teachers,(function(e,n){return a("b-col",{key:n,attrs:{lg:"4",md:"12"}},[a("b-form-checkbox",{staticClass:"pt-3",attrs:{value:e.value,name:"teachers",inline:""},model:{value:t.form.teacher_id,callback:function(e){t.$set(t.form,"teacher_id",e)},expression:"form.teacher_id"}},[t._v(" "+t._s(e.text)+" ")])],1)})),1)],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("اضافة فصل")]),a("b-button",{staticClass:"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v("اعادة")])],1)],1)],1)},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("إضافة فصل")])])])}],Nt={mixins:[k["validationMixin"]],data:function(){return{isLoading:!1,alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],form:{name:null,subject:null,approvement:null,teacher_id:[],block_reason:null,image:null},teachers:[]}},validations:{form:{name:{required:D["required"]},subject:{required:D["required"]},teacher_id:{},approvement:{required:D["required"]},image:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},uploadFile:function(){var t=this,e=new FormData;this.form.image?(e.append("file",this.form.image),e.append("folder_name","rooms"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.addData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))):(delete this.form.image,this.addData())},resetForm:function(){var t=this;this.form={name:null,subject:null,teacher_id:[],approvement:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.uploadFile()},addData:function(){var t=this;this.form.is_private=0,$.a.post("https://api.egs-live.com/api/admin/rooms",this.form).then((function(e){t.alertType="success",t.alertText="تم اضافة الفصل بنجاح ",t.alertCountdown="3",t.resetForm()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadTeachers:function(){var t=this;this.isLoading=!0,this.teachers=[],$.a.get("https://api.egs-live.com/api/admin/teachers",{}).then((function(e){e.data.data.length>0&&(e.data.data.forEach((function(e){t.teachers.push({text:e.full_name,value:e.id})})),t.isLoading=!1)})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.$router.push({name:"rooms"})}))}},created:function(){this.loadTeachers()}},Pt=Nt,Ut=(a("321c"),Object(S["a"])(Pt,Rt,Ft,!1,null,"d3a8fb88",null)),Gt=Ut.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"page-header"},[a("h3",[a("b",[t._v("تعديل فصل")]),a("b-avatar",{staticClass:"mr-3 profile-image",attrs:{src:t.currentImage}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-name",label:"اسم الفصل","label-for":"admin-add-name"}},[a("b-form-input",{attrs:{id:"admin-add-name",name:"admin-add-name",state:t.validateState("name"),"aria-describedby":"input-add-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-name"}},[t._v(" اسم الفصل مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-room-add-image",label:"الصورة","label-for":"room-add-image"}},[a("b-form-file",{attrs:{type:"file",id:"room-add-image",name:"room-add-image",state:t.validateState("image"),"aria-describedby":"input-add-image"},model:{value:t.$v.form.image.$model,callback:function(e){t.$set(t.$v.form.image,"$model",e)},expression:"$v.form.image.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-image"}},[t._v(" الملف مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-subject",label:"اسم المادة","label-for":"admin-add-subject"}},[a("b-form-input",{attrs:{id:"admin-add-subject",name:"admin-add-subject",state:t.validateState("subject"),"aria-describedby":"input-add-subject"},model:{value:t.$v.form.subject.$model,callback:function(e){t.$set(t.$v.form.subject,"$model",e)},expression:"$v.form.subject.$model"}}),t.$v.form.subject.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-subject"}},[t._v(" اسم المادة مطلوبة ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-approvement",label:"حالة الفصل","label-for":"admin-add-approvement"}},[a("b-form-select",{attrs:{id:"admin-add-approvement",name:"admin-add-approvement",options:t.approvements,state:t.validateState("approvement"),"aria-describedby":"input-add-approvement"},model:{value:t.$v.form.approvement.$model,callback:function(e){t.$set(t.$v.form.approvement,"$model",e)},expression:"$v.form.approvement.$model"}}),t.$v.form.approvement.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-approvement"}},[t._v("حالة الفصل مطلوبة")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{label:"المدرسين"}},[a("b-row",t._l(t.teachers,(function(e,n){return a("b-col",{key:n,attrs:{lg:"4",md:"12"}},[a("b-form-checkbox",{staticClass:"pt-3",attrs:{value:e.value,name:"teachers",inline:""},model:{value:t.form.teacher_id,callback:function(e){t.$set(t.form,"teacher_id",e)},expression:"form.teacher_id"}},[t._v(" "+t._s(e.text)+" ")])],1)})),1)],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("تعديل")])],1)],1)],1)},Vt=[],Kt={mixins:[k["validationMixin"]],data:function(){return{isLoading:!1,alertCountdown:0,alertType:"",alertText:"",approvements:[{value:null,text:"اختر..."},{value:"accept",text:"مفتوح"},{value:"under_revision",text:"تحت المراجعة"},{value:"blocked",text:"مغلق"}],form:{name:null,subject:null,approvement:null,teacher_id:[],block_reason:null,image:null},teachers:[],currentImage:null}},validations:{form:{name:{required:D["required"]},subject:{required:D["required"]},teacher_id:{},approvement:{required:D["required"]},image:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.isLoading=!0,this.uploadFile())},uploadFile:function(){var t=this;if(this.form.image){var e=new FormData;e.append("file",this.form.image),e.append("folder_name","rooms"),$.a.post("https://api.egs-live.com/api/admin/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.image=e.data,t.saveData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}else delete this.form.image,this.saveData()},saveData:function(){var t=this;$.a.put("https://api.egs-live.com/api/admin/rooms/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.alertType="success",t.alertText="تم تعديل بيانات الفصل بنجاح ",t.alertCountdown="3",t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadData:function(){var t=this;$.a.get("https://api.egs-live.com/api/admin/rooms/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.form=e.data.data,t.currentImage=t.form.image,t.form.image=null,t.form.teacher_id=t.form.teachers_id})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.$router.push({name:"rooms"})}))},loadTeachers:function(){var t=this;this.isLoading=!0,this.teachers=[],$.a.get("https://api.egs-live.com/api/admin/teachers",{}).then((function(e){e.data.data.length>0&&(e.data.data.forEach((function(e){t.teachers.push({text:e.full_name,value:e.id})})),t.loadData())})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.$router.push({name:"rooms"})}))}},created:function(){this.isLoading=!0,this.loadTeachers()}},Jt=Kt,Bt=(a("d627"),Object(S["a"])(Jt,Ht,Vt,!1,null,"e3dc3fae",null)),Yt=Bt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout items"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[t._m(1),a("tbody",[0==t.items.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"10"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.items.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"10"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.items,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("span",{staticClass:"tbl-data"},[t._v("يريد "+t._s(e.student.full_name)+" الانضمام الى غرفة "+t._s(e.room.name))])]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-success options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.acceptJoinRequest(e)}}},[a("i",{staticClass:"fa fa-check"})]),a("b-button",{staticClass:"btn btn-danger options-admin-btn del-options-admin-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.refuseJoinRequest(e)}}},[a("i",{staticClass:"fa fa-times"})])],1)])])}))],2)])])])])])]),a("b-modal",{attrs:{centered:"",title:"قبول الانضمام"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.acceptRequest()}}},[t._v(" قبول ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.acceptModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.acceptModal,callback:function(e){t.acceptModal=e},expression:"acceptModal"}},[a("p",[t._v("هل تريد قبول الطالب للانضمام ؟")])]),a("b-modal",{attrs:{centered:"",title:"قبول الانضمام"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.refuseRequest()}}},[t._v(" قبول ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.refuseModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.refuseModal,callback:function(e){t.refuseModal=e},expression:"refuseModal"}},[a("p",[t._v("هل تريد رفض الطالب للانضمام ؟")]),a("b-textarea",{attrs:{placeholder:"سبب الرفض"},model:{value:t.blockreason,callback:function(e){t.blockreason=e},expression:"blockreason"}})],1)],1)},Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("طلبات الانضمام للغرف")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v("الطلب")])]),a("th",{attrs:{width:"10%"}})])])}],Xt={name:"Home",data:function(){return{items:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentRequest:{},acceptModal:!1,refuseModal:!1,blockreason:null}},methods:{acceptJoinRequest:function(t){this.currentRequest=t,this.acceptModal=!0},acceptRequest:function(){var t=this;this.isLoading=!0,$.a.put("https://api.egs-live.com/api/admin/change-join-request-status?student_id="+this.currentRequest.student.id+"&roomId="+this.currentRequest.room.id+"&status=accept",null).then((function(e){t.alertType="success",t.alertText="تم قبول الطالب بنجاح",t.alertCountdown="3",t.acceptModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},refuseJoinRequest:function(t){this.currentRequest=t,this.blockreason=null,this.refuseModal=!0},refuseRequest:function(){var t=this;this.isLoading=!0,$.a.put("https://api.egs-live.com/api/admin/change-join-request-status?student_id="+this.currentRequest.student.id+"&roomId="+this.currentRequest.room.id+"&status=blocked&block_reason="+this.blockreason,null).then((function(e){t.alertType="success",t.alertText="تم رفض الطالب بنجاح",t.alertCountdown="3",t.refuseModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadData:function(){var t=this;this.isLoading=!0,$.a.get("https://api.egs-live.com/api/admin/show-join-requests",{}).then((function(e){var a=e.data.data;t.items=a,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},countDownChanged:function(t){this.alertCountdown=t}},created:function(){this.loadData()}},Zt=Xt,te=(a("0852"),Object(S["a"])(Zt,Qt,Wt,!1,null,"2e07131f",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout items"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[t._m(1),a("tbody",[0==t.items.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.items.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"8"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.items,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.appointment))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.youtube_video_path))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.description))])])])}))],2)])])])])])])],1)},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("الدروس")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v("اسم الدرس")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(" الميعاد")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(" مسار ال youtube ")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v("الوصف")])])])])}],re=(a("b0c0"),{name:"Home",data:function(){return{items:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentID:null,delModal:!1,roomsDic:{}}},methods:{loadData:function(){var t=this;this.isLoading=!0;var e=function(e){var a=e.data.data;t.items=a,t.isLoading=!1},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"};Fe("get","/admin/show-lessons/"+this.$route.params.roomID,!1,{},e,a)},delItem:function(t){this.delModal=!0},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/filesrooms/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف ملفات الفصل بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},goToEditRoute:function(t){t&&this.$router.push({name:"editRoomFile",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})},loadRooms:function(){var t=this;this.isLoading=!0,this.roomsDic={};var e=function(e){e.data.data.length>0&&(e.data.data.forEach((function(e){t.roomsDic[e.id]||(t.roomsDic[e.id]=e.name)})),t.loadData())},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"};Fe("get","/admin/rooms",!1,{},e,a)}},created:function(){this.loadRooms()}}),ie=re,se=(a("4602"),Object(S["a"])(ie,ae,ne,!1,null,"71e3b499",null)),oe=se.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout items"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[t._m(1),a("tbody",[0==t.items.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.items.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"8"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.items,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.path))])])])}))],2)])])])])])])],1)},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("الملفات ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v("اسم الملف")])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v("مسار الملف")])])])])}],me={name:"Home",data:function(){return{items:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentID:null,delModal:!1,roomsDic:{}}},methods:{loadData:function(){var t=this;this.isLoading=!0;var e=function(e){var a=e.data.data;t.items=a,t.isLoading=!1},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"};Fe("get","/admin/show-files/"+this.$route.params.roomID,!1,{},e,a)},delItem:function(t){this.delModal=!0},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/filesrooms/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف ملفات الفصل بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},goToEditRoute:function(t){t&&this.$router.push({name:"editRoomFile",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})},loadRooms:function(){var t=this;this.isLoading=!0,this.roomsDic={};var e=function(e){e.data.data.length>0&&(e.data.data.forEach((function(e){t.roomsDic[e.id]||(t.roomsDic[e.id]=e.name)})),t.loadData())},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"};Fe("get","/admin/rooms",!1,{},e,a)}},created:function(){this.loadRooms()}},ue=me,ce=(a("04b6"),Object(S["a"])(ue,de,le,!1,null,"d83c3cb4",null)),pe=ce.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"dataTables-example"}},[a("thead",[a("tr",[t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),a("th",{attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-admin-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("addAdmin")}}},[a("i",{staticClass:"fa fa-plus"})])],1)])])]),a("tbody",[0==t.users.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.users.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.users,(function(e,n){return a("tr",{key:n},[a("td",[t._v(" "+t._s(++n)+" ")]),a("td",[a("b-avatar",{staticClass:"ml-3",attrs:{src:e.image}}),a("span",{staticClass:"tbl-data"},[t._v(t._s(e.name))])],1),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.user_name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.email))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.phone))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.roleDir[e.role]))])]),a("td",[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-admin-btn edit-options-admin-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-admin-btn del-options-admin-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])}))],2)])])])])])]),a("b-modal",{attrs:{centered:"",title:"حذف مستخدم"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" حذف ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",{staticClass:"my-4"},[t._v("هل تريد حذف هذا المستخدم؟")])])],1)},ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("المسئولين")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الاسم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("اسم المستخدم")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("البريد الالكتروني")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("رقم المحمول")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",{staticClass:"tbl-data"},[t._v("الصلاحية")])])}],be={name:"Home",data:function(){return{users:[],isLoading:!0,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,roleDir:{1:"موظف",2:"مدير"},options:[{value:"1",text:"موظف"},{value:"2",text:"مدير"}],currentID:null,delModal:!1}},methods:{loadData:function(){var t=this;this.isLoading=!0,this.users=[],$.a.get("https://api.egs-live.com/api/admin/admins",{}).then((function(e){var a=e.data.data;t.users=a,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},deleteItem:function(){var t=this;this.currentID&&(this.isLoading=!0,$.a.delete("https://api.egs-live.com/api/admin/admins/"+this.currentID,{}).then((function(e){t.alertType="success",t.alertText="تم حدف المستخدم بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.delModal=!1})))},countDownChanged:function(t){this.alertCountdown=t},goToEditRoute:function(t){t&&this.$router.push({name:"editAdmin",params:{id:t}})},goToRoute:function(t){this.$router.push({name:t})}},created:function(){this.loadData()}},he=be,ge=(a("267e"),Object(S["a"])(he,fe,ve,!1,null,"b499ae30",null)),_e=ge.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-full-name",label:"الاسم","label-for":"admin-add-full-name"}},[a("b-form-input",{attrs:{id:"admin-add-full-name",name:"admin-add-full-name",state:t.validateState("name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-user-name",label:"اسم المستخدم","label-for":"admin-add-user-name"}},[a("b-form-input",{attrs:{id:"admin-add-user-name",name:"admin-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-email",label:"البريد الاكتروني","label-for":"admin-add-email"}},[a("b-form-input",{attrs:{id:"admin-add-email",name:"admin-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-password",label:"كلمة المرور","label-for":"admin-add-password"}},[a("b-form-input",{attrs:{id:"admin-add-password",name:"admin-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور مطلوبه ")]),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-phone",label:"رقم المحمول","label-for":"admin-add-phone"}},[a("b-form-input",{attrs:{id:"admin-add-phone",name:"admin-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-role",label:"المسئولية","label-for":"admin-add-role"}},[a("b-form-select",{attrs:{id:"admin-add-role",name:"admin-add-role",options:t.roles,state:t.validateState("role"),"aria-describedby":"input-add-role"},model:{value:t.$v.form.role.$model,callback:function(e){t.$set(t.$v.form.role,"$model",e)},expression:"$v.form.role.$model"}}),t.$v.form.role.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-role"}},[t._v("المسئولية مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("اضافة مستخدم")]),a("b-button",{staticClass:"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v("اعادة")])],1)],1)],1)},Ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("إضافة مسئول")])])])}],we={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",roles:[{value:null,text:"اختر..."},{value:1,text:"موظف"},{value:2,text:"مدير"}],form:{name:null,user_name:null,email:null,password:null,phone:null,role:null}}},validations:{form:{name:{required:D["required"]},user_name:{required:D["required"]},email:{required:D["required"],email:D["email"]},password:{required:D["required"],minLength:Object(D["minLength"])(8)},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11)},role:{required:D["required"]}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={name:null,user_name:null,email:null,password:null,phone:null,role:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.addAdmin()},addAdmin:function(){var t=this;$.a.post("https://api.egs-live.com/api/admin/admins",this.form).then((function(e){t.alertType="success",t.alertText="تم اضافة المستخدم بنجاح ",t.alertCountdown="3",t.resetForm()})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))}}},ye=we,xe=Object(S["a"])(ye,$e,Ce,!1,null,null,null),Te=xe.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-full-name",label:"الاسم","label-for":"admin-add-full-name"}},[a("b-form-input",{attrs:{id:"admin-add-full-name",name:"admin-add-full-name",state:t.validateState("name"),"aria-describedby":"input-add-full-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-full-name"}},[t._v(" الاسم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-user-name",label:"اسم المستخدم","label-for":"admin-add-user-name"}},[a("b-form-input",{attrs:{id:"admin-add-user-name",name:"admin-add-user-name",state:t.validateState("user_name"),"aria-describedby":"input-add-user-name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-user-name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-email",label:"البريد الاكتروني","label-for":"admin-add-email"}},[a("b-form-input",{attrs:{id:"admin-add-email",name:"admin-add-email",state:t.validateState("email"),"aria-describedby":"input-add-email"},model:{value:t.$v.form.email.$model,callback:function(e){t.$set(t.$v.form.email,"$model",e)},expression:"$v.form.email.$model"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني مطلوب ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-email"}},[t._v(" البريد الالكتروني غير صالح - xxx@yyy.zzz ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-password",label:"كلمة المرور","label-for":"admin-add-password"}},[a("b-form-input",{attrs:{id:"admin-add-password",name:"admin-add-password",state:t.validateState("password"),"aria-describedby":"input-add-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-password"}},[t._v(" كلمة المرور اكثر من 8 احرف ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-phone",label:"رقم المحمول","label-for":"admin-add-phone"}},[a("b-form-input",{attrs:{id:"admin-add-phone",name:"admin-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول مطلوب ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يجب ان يحتوي على ارقام فقط ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-phone"}},[t._v(" رقم المحمول غير صالح - يتكون من 11 رقما ")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-add-role",label:"المسئولية","label-for":"admin-add-role"}},[a("b-form-select",{attrs:{id:"admin-add-role",name:"admin-add-role",options:t.roles,state:t.validateState("role"),"aria-describedby":"input-add-role"},model:{value:t.$v.form.role.$model,callback:function(e){t.$set(t.$v.form.role,"$model",e)},expression:"$v.form.role.$model"}}),t.$v.form.role.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-role"}},[t._v("المسئولية مطلوبة")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("تعديل")])],1)],1)],1)},Le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v("تعديل مسئول")])])])}],De={mixins:[k["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",roles:[{value:null,text:"اختر..."},{value:1,text:"موظف"},{value:2,text:"مدير"}],form:{name:null,user_name:null,email:null,phone:null,role:null,password:null}}},validations:{form:{name:{required:D["required"]},user_name:{required:D["required"]},email:{required:D["required"],email:D["email"]},phone:{required:D["required"],numeric:D["numeric"],minLength:Object(D["minLength"])(11)},role:{required:D["required"]},password:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,n=e.$error;return a?!n:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.isLoading=!0,this.saveAdminData())},saveAdminData:function(){var t=this;null==this.form.password&&delete this.form.password,$.a.put("https://api.egs-live.com/api/admin/admins/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.alertType="success",t.alertText="تم تعديل بيانات المستخدم بنجاح ",t.alertCountdown="3"})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3"}))},loadData:function(){var t=this;$.a.get("https://api.egs-live.com/api/admin/admins/"+this.$route.params.id,this.form).then((function(e){t.isLoading=!1,t.form=e.data.data,t.form.password=null})).catch((function(e){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ .. حاول مرة اخرى لاحقا",t.alertCountdown="3",t.$router.push({name:"admins"})}))}},created:function(){this.isLoading=!0,this.loadData()}},Ee=De,qe=Object(S["a"])(Ee,ke,Le,!1,null,null,null),Se=qe.exports,Ie=function(t,e,a){g.getters.authToken?a():(g.commit("LOGOUT"),a({name:"login"}))},Me=function(t,e,a){g.getters.authToken?("admin"!=g.getters.accoutType&&a({name:"home"}),a()):(g.commit("LOGOUT"),a({name:"login"}))},je=function(t,e,a){g.getters.authToken?("teacher"!=g.getters.accoutType&&a({name:"home"}),a()):(g.commit("LOGOUT"),a({name:"login"}))},Oe={isLoggedIn:Ie,isAdminLoggedIn:Me,isTeacherLoggedIn:je};n["default"].use(C["a"]);var ze=[{path:"/",name:"home",component:G,beforeEnter:Oe.isLoggedIn},{path:"/login",name:"login",component:A},{path:"/teachers",name:"teachers",component:et,beforeEnter:Oe.isAdminLoggedIn},{path:"/add-teacher",name:"addTeacher",component:ot,beforeEnter:Oe.isAdminLoggedIn},{path:"/edit-teacher/:id",name:"editTeacher",component:pt,beforeEnter:Oe.isAdminLoggedIn},{path:"/students",name:"students",component:_t,beforeEnter:Oe.isAdminLoggedIn},{path:"/add-student",name:"addStudent",component:Tt,beforeEnter:Oe.isAdminLoggedIn},{path:"/edit-student/:id",name:"editStudent",component:St,beforeEnter:Oe.isAdminLoggedIn},{path:"/rooms",name:"rooms",component:At,beforeEnter:Oe.isAdminLoggedIn},{path:"/add-room",name:"addRoom",component:Gt,beforeEnter:Oe.isAdminLoggedIn},{path:"/edit-room/:id",name:"editRoom",component:Yt,beforeEnter:Oe.isAdminLoggedIn},{path:"/room/:roomID/lessons",name:"roomLesson",component:oe,beforeEnter:Oe.isAdminLoggedIn},{path:"/room/:roomID/files",name:"roomFiles",component:pe,beforeEnter:Oe.isAdminLoggedIn},{path:"/admins",name:"admins",component:_e,beforeEnter:Oe.isAdminLoggedIn},{path:"/add-admin",name:"addAdmin",component:Te,beforeEnter:Oe.isAdminLoggedIn},{path:"/edit-admin/:id",name:"editAdmin",component:Se,beforeEnter:Oe.isAdminLoggedIn},{path:"/rooms/join-requests",name:"joinRoomRequest",component:ee,beforeEnter:Oe.isAdminLoggedIn},{path:"*",name:"NotFound",component:Y,beforeEnter:Oe.isLoggedIn}],Ae=new C["a"]({mode:"history",routes:ze}),Re=Ae,Fe=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=null;a&&(o={headers:{authorization:"Bearer "+g.getters.authToken}},s&&(o["responseType"]="arraybuffer"));var d={get:$.a.get,post:$.a.post,delete:$.a.delete,put:$.a.put,patch:$.a.patch},l="https://api.egs-live.com/api"+e,m=null;m=n?d[t](l,n,o):d[t](l,o),m.then((function(t){r&&r(t)})).catch((function(t){i&&(401==t.response.status&&(g.commit("LOGOUT"),Re.push({name:"login"})),i(t))}))},Ne={data:function(){return{isVisible:!1,username:null}},components:{},watch:{$route:function(t,e){this.username=this.$store.getters.username}},methods:{navToogle:function(){this.isVisible=!this.isVisible},logout:function(){var t=this,e=function(){g.commit("LOGOUT"),t.$router.push({name:"login"})},a=function(){};Fe("post","/admin/logout",!0,{},e,a)}},created:function(){this.username=g.getters.username?g.getters.username:"مدرس"}},Pe=Ne,Ue=(a("fdf1"),Object(S["a"])(Pe,s,o,!1,null,"7da8d694",null)),Ge=Ue.exports,He={data:function(){return{form:"",accountType:null}},components:{navBar:Ge},created:function(){}},Ve=He,Ke=(a("4d1c"),Object(S["a"])(Ve,r,i,!1,null,"61f9ea07",null)),Je=Ke.exports,Be=a("5f5b"),Ye=a("b1e0");a("f9e3"),a("2dd8"),a("dbc8"),a("0d2f");n["default"].use(d["a"]),n["default"].use(L.a),n["default"].use(Be["a"],Ye["a"],$.a),n["default"].config.productionTip=!1,new n["default"]({router:Re,store:g,render:function(t){return t(Je)}}).$mount("#app")},"5bc2":function(t,e,a){},6562:function(t,e,a){"use strict";var n=a("6755"),r=a.n(n);r.a},6755:function(t,e,a){},"6fa8":function(t,e,a){},7731:function(t,e,a){},"78de":function(t,e,a){"use strict";var n=a("3c3d"),r=a.n(n);r.a},9446:function(t,e,a){},"99dc":function(t,e,a){},a7b0:function(t,e,a){"use strict";var n=a("6fa8"),r=a.n(n);r.a},ad40:function(t,e,a){},b5bf:function(t,e,a){"use strict";var n=a("7731"),r=a.n(n);r.a},ba10:function(t,e,a){},d627:function(t,e,a){"use strict";var n=a("2a83"),r=a.n(n);r.a},d6db:function(t,e,a){"use strict";var n=a("e67a"),r=a.n(n);r.a},dbc8:function(t,e,a){},dd63:function(t,e,a){"use strict";var n=a("303c"),r=a.n(n);r.a},e67a:function(t,e,a){},fdf1:function(t,e,a){"use strict";var n=a("ba10"),r=a.n(n);r.a}});
//# sourceMappingURL=app.6cb2c865.js.map